/*!
 * Metascraper JavaScript Library v1.1.0
 * https://metascraper.com/
 *
 * Copyright Metascraper
 * Released under the MIT license
 * https://en.wikipedia.org/wiki/MIT_License
 *
 * Date: 2019-11-11T11:11Z
 */

var meta={projectName:"Metascraper",version:"1.1.0",modes:{developer:0,warning:5,error:9},options:{webApiPrefix:"http://localhost:54702/api/",attrName:"data-value",attrMemberName:"data-member",attrArrayName:"data-array",attrTextName:"data-text",attrHrefName:"data-href",attrClickName:"data-click",attrTypeName:"data-type",attrClassName:"data-class",attrScrapeName:"data-scrape",attrKeyName:"data-key",indexName:"{{*index}}",tokenName:"Token",scrape:!0,mode:5},loadTypes:Object.freeze({Replace:0,BeforeBeginAppend:1,AfterBeginAppend:2,BeforeEndAppend:3,AfterEndAppend:4}),storeTypes:Object.freeze({ExpiryNoExtend:1,ExpiryExtend:2,OneTimeRead:3,Forever:4,Session:5}),dataTypes:Object.freeze({date:"date",time:"time",datetime:"datetime",month:"month",month1:"month1",month3:"month3",monthNum:"monthNum",monthNumPad:"monthNumPad",day:"day",day1:"day1",day2:"day2",day3:"day3",dayNum:"dayNum",dayNumPad:"dayNumPad",year:"year",year2:"year2",string:"string",number:"number",json:"json"}),encodeTypes:Object.freeze({url:"url",urlParameter:"urlParameter",base64:"base64",utf16:"utf16"}),send:function(e){var t=meta.options.scrape;void 0!==e.scrape&&(t=e.scrape);var a=t?this.scrape(!0):{};e.data&&this.extend(a,e.data);var r={contentType:"application/json",dataType:"json",data:a};this.extend(r,e),-1===r.url.indexOf("://")&&(r.url=this.options.webApiPrefix+r.url),this.tokenize(r),this.ajax(r)},receive:function(e){var r=e.success,n={contentType:"application/json",dataType:"json"};this.extend(n,e),n.success=function(e,t,a){meta.bind(e,n.container),r&&r(e,t,a)};var t=n.url.indexOf("://");(-1===t||7<t)&&(n.url=this.options.webApiPrefix+n.url),this.tokenize(n),this.ajax(n)},get:function(e){var t={method:"GET"};this.extend(t,e),this.receive(t)},post:function(e){var t={method:"POST"};this.extend(t,e),this.send(t)},put:function(e){var t={method:"PUT"};this.extend(t,e),this.send(t)},del:function(e){this.log("meta.del","**DEPRACATION WARNING** meta.del should be replaced with meta.delete",meta.modes.warning),this.delete(e)},delete:function(e){var t={method:"DELETE"};this.extend(t,e),this.send(t)},create:function(e){this.post(e)},read:function(e){this.get(e)},update:function(e){this.put(e)},save:function(e){if(this.isNullOrUndefined(e.pk)||0===e.pk.length)throw arguments.callee.toString()+" - required parameter [pk] not found";e.data=this.scrape(),e.scrape=!1,e.data[e.pk]&&"0"!==e.data[e.pk]?meta.update(e):meta.create(e)},authorize:function(e){var t=meta.isNullOrUndefined(this.token());return t&&e&&e.url&&(window.location.href=e.url),!t},token:function(){return window.localStorage.getItem(meta.options.tokenName)},tokenize:function(e){var t=meta.token();if(!this.isNullOrUndefined(t)){var a={Authorization:"Bearer "+t};this.isNullOrUndefined(e.headers)&&(e.headers={}),this.extend(e.headers,a)}},login:function(e){var r=e.success,t={url:"Auth/Login"};this.extend(t,e),t.success=function(e,t,a){window.localStorage.setItem(meta.options.tokenName,e[meta.options.tokenName]),r&&r(e,t,a)},this.post(t)},logout:function(e){window.localStorage.removeItem(meta.options.tokenName),e&&e.url&&(-1===e.url.indexOf("://")&&(e.url=this.options.webApiPrefix+e.url),window.location.href=e.url+"?r="+encodeURIComponent(window.location.href))},getValue:function(e){if(e instanceof HTMLInputElement)return"checkbox"===e.type?e.checked:e.value;if(e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement){if(e.multiple){for(var t=[],a=e.selectedOptions,r=0;r<a.length;r++)t.push(a[r].value);return t}return e.value}return e&&e.innerHTML?e.innerHTML:void 0},scrape:function(){for(var e={},t=meta.options.attrName,a=this.selectAll("["+t+"]"),r=0;r<a.length;r++)if(!(a[r]instanceof HTMLTableElement||a[r]instanceof HTMLUListElement)){if(a[r].hasAttribute(meta.options.attrScrapeName))if(!1===JSON.parse(a[r].getAttribute(meta.options.attrScrapeName)))continue;e[a[r].getAttribute(t)]=meta.getValue(a[r])}return e},formatValue:function(e,t){try{if(e.hasAttribute(meta.options.attrTypeName)){var a=e.getAttribute(meta.options.attrTypeName);if(a!==meta.dataTypes.string)if(a===meta.dataTypes.number)t=new Number(t);else if(a===meta.dataTypes.date||a===meta.dataTypes.time||a===meta.dataTypes.datetime||a===meta.dataTypes.month||a===meta.dataTypes.month1||a===meta.dataTypes.month3||a===meta.dataTypes.monthNum||a===meta.dataTypes.monthNumPad||a===meta.dataTypes.day||a===meta.dataTypes.day1||a===meta.dataTypes.day2||a===meta.dataTypes.day3||a===meta.dataTypes.dayNum||a===meta.dataTypes.dayNumPad||a===meta.dataTypes.year||a===meta.dataTypes.year2){if(t=new Date(t),a===meta.dataTypes.date)t=t.toLocaleDateString();else if(a===meta.dataTypes.time)t=t.toLocaleTimeString();else if(a===meta.dataTypes.datetime)t=t.toLocaleString();else if(a===meta.dataTypes.month){var r=["January","February","March","April","May","June","July","August","September","October","November","December"];t=r[t.getMonth()]}else if(a===meta.dataTypes.month1){t=r[t.getMonth()]}else if(a===meta.dataTypes.month3){t=r[t.getMonth()]}else if(a===meta.dataTypes.monthNum)t=t.getMonth()+1;else if(a===meta.dataTypes.monthNumPad){var n=t.getMonth()+1;t=n<10?"0"+n.toString():n.toString()}else if(a===meta.dataTypes.day){t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]}else if(a===meta.dataTypes.day1){t=["S","M","T","W","T","F","S"][t.getDay()]}else if(a===meta.dataTypes.day2){t=["Su","Mo","Tu","We","Th","Fr","Sa"][t.getDay()]}else if(a===meta.dataTypes.day3){t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]}else if(a===meta.dataTypes.dayNum)t=t.getDate();else if(a===meta.dataTypes.dayNumPad){var o=t.getDate();t=o<10?"0"+o.toString():o.toString()}else if(a===meta.dataTypes.year)t=t.getFullYear();else if(a===meta.dataTypes.year2){var i=t.getFullYear();if(-10<i&&i<10)t=i<0?"-0"+(-1*i).toString():"0"+i.toString();else if(i<100&&-100<i)t=i;else{var s=i.toString();s=i.substr(s.length-2,2),i<0&&(s="-"+s),t=parseInt(s)}}}else a===meta.dataTypes.json&&(t=JSON.stringify(t))}}catch(e){}return t},setValue:function(e,t){t=meta.formatValue(e,t),e instanceof HTMLSelectElement?e.value=t:e instanceof HTMLInputElement?"checkbox"===e.type?e.checked=t:e.value=t:e.innerHTML=t},paint:function(e,t){t=t||document;for(var a=meta.options.attrName,r=this.selectAll("["+a+"]",t),n=0;n<r.length;n++)if(!r[n].hasAttribute(meta.options.attrArrayName)||r[n].hasAttribute(meta.options.attrTextName)){var o=null;if(r[n].hasAttribute(meta.options.attrMemberName)){var i=r[n].getAttribute(meta.options.attrMemberName);i&&e[i]&&(o=e[i][r[n].getAttribute(a)])}else o=e[r[n].getAttribute(a)];meta.isNullOrUndefined(o)?e[i].hasOwnProperty(r[n].getAttribute(a))||meta.log("metascraper::paint","unable to find data-value ["+r[n].getAttribute(a)+"]",meta.modes.warning):meta.setValue(r[n],o)}},fill:function(a,r){function e(e){var t=e.replace(meta.options.indexName,h+1);return 0<o.length&&(t=t.replace("{{*"+meta.options.attrName+"}}",r[h][o])),-1!==t.indexOf("{{*"+meta.options.attrKeyName+"}}")&&(t=t.replace("{{*"+meta.options.attrKeyName+"}}",r[h][a.getAttribute(meta.options.attrKeyName)])),t}var t,n,o=a.getAttribute(meta.options.attrName);if(a instanceof HTMLSelectElement){if(this.isNullOrUndefined(o)||!a.hasAttribute(meta.options.attrTextName))return;for(var i=a.getAttribute(meta.options.attrTextName),s=a.getAttribute(meta.options.attrClassName),d=0;d<r.length;d++){var l=document.createElement("option");s&&0<s.length&&l.classList.add(s),l.value=r[d][o],l.text=meta.formatValue(a,r[d][i]),a.add(l,null)}}else if(a instanceof HTMLTableElement){var u=a.tHead;if(this.isNullOrUndefined(u)||this.isNullOrUndefined(u.rows)||0===u.rows.length)return;var m=u.rows[0].cells;if(this.isNullOrUndefined(m)||0===m.length)return;for(var c=meta.attr(u.rows[0],meta.options.attrHrefName),p=meta.attr(u.rows[0],meta.options.attrClickName),f=meta.attr(u.rows[0],meta.options.attrClassName),h=0;h<r.length;h++){var y=a.tBodies[0];meta.isNullOrUndefined(y)&&(y=a.appendChild(document.createElement("tbody")));var g=y.insertRow(-1);if(c&&0<c.length&&p&&0<p.length)throw"ERROR reported by "+meta.projectName+". Cannot apply "+meta.options.attrHrefName+" and "+meta.options.attrClickName+" to a tr element.";if(c&&0<c.length){var T=0<o.length?e(c):c;g.setAttribute("onclick","location.href = '"+T+"'")}if(p&&0<p.length){var N=0<o.length?e(p):p;g.setAttribute("onclick",N)}f&&0<f.length&&g.classList.add(f);for(var b=0;b<m.length;b++){var v=this.elem("td",null,g);if(m[b].hasAttribute(meta.options.attrTextName)){var A=meta.attr(m[b],meta.options.attrHrefName),w=meta.attr(m[b],meta.options.attrClickName),S=m[b].getAttribute(meta.options.attrTextName),x=meta.attr(m[b],meta.options.attrClassName);if(x&&0<x.length&&v.classList.add(x),void 0!==r[h][S]){var O=meta.formatValue(m[b],r[h][S]);A&&0<A.length?(t=document.createElement("a"),n=document.createTextNode(O),t.appendChild(n),w&&0<w.length&&t.setAttribute("onclick",e(w)),t.href=e(A),v.innerHTML=t.outerHTML):(v.innerHTML=O,w&&0<w.length&&v.setAttribute("onclick",e(w)))}}}}}else if(a instanceof HTMLUListElement){var E=meta.attr(a,meta.options.attrTextName);if(!E)return;for(var L=meta.attr(a,meta.options.attrHrefName),M=meta.attr(a,meta.options.attrClickName),k=meta.attr(a,meta.options.attrClassName),C=0;C<r.length;C++){var H=document.createElement("li");k&&0<k.length&&H.classList.add(k);var U=meta.formatValue(a,r[C][E]);L&&0<L.length?(t=document.createElement("a"),n=document.createTextNode(U),t.appendChild(n),M&&0<M.length&&t.setAttribute("onclick",e(M)),t.href=e(L),H.appendChild(t)):(H.appendChild(document.createTextNode(U)),M&&0<M.length&&H.setAttribute("onclick",e(M))),r[C][o]&&H.setAttribute("id",r[C][o]),a.appendChild(H)}}},populate:function(e,t){t=t||document;for(var a=meta.options.attrArrayName,r=this.selectAll("["+a+"]",t),n=0;n<r.length;n++){var o=e[r[n].getAttribute(a)]?e[r[n].getAttribute(a)]:e;meta.fill(r[n],o)}},bind:function(e,t){t=t||document,meta.populate(e,t),meta.paint(e,t)},load:function(e){var r=e.success,n=e.elem,o={method:"GET",url:e.url};this.extend(o,e),o.success=function(e,t,a){o.loadType===meta.loadTypes.BeforeBeginAppend?n.outerHTML=e+n.outerHTML:o.loadType===meta.loadTypes.AfterBeginAppend?n.innerHTML=e+n.innerHTML:o.loadType===meta.loadTypes.BeforeEndAppend?n.innerHTML=n.innerHTML+e:o.loadType===meta.loadTypes.AfterEndAppend?n.innerHTML=n.outerHTML+e:n.innerHTML=e,r&&r(e,t,a)},this.ajax(o)},loadHeader:function(e){var t={elem:document.body,loadType:meta.loadTypes.AfterBeginAppend};this.extend(t,e),this.load(t)},loadFooter:function(e){var t={elem:document.body,loadType:meta.loadTypes.BeforeEndAppend};this.extend(t,e),this.load(t)},loadScript:function(e){meta.isNullOrUndefined(e.url)&&meta.log("metascraper::loadScript","unable to find required attribute [url]",meta.modes.error);var n=e.success,t={method:"GET"};meta.extend(t,e),t.success=function(e,t,a){var r=document.createElement("script");r.textContent=e,document.head.appendChild(r),n&&n(e,t,a)},meta.ajax(t)},loadLinkFile:function(e){meta.isNullOrUndefined(e.rel)&&meta.log("metascraper::loadLinkFile","unable to find required attribute [rel]",meta.modes.error),meta.isNullOrUndefined(e.type)&&meta.log("metascraper::loadLinkFile","unable to find required attribute [type]",meta.modes.error),meta.isNullOrUndefined(e.url)&&meta.log("metascraper::loadLinkFile","unable to find required attribute [url]",meta.modes.error);var t=document.createElement("link");t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,e.success&&e.success())}:t.onload=function(){e.success&&e.success()},meta.extend(t,e),t.href=e.url,document.getElementsByTagName("head")[0].appendChild(t)},loadStyleSheet:function(e){var t={rel:"stylesheet",type:"text/css"};meta.extend(t,e),meta.loadLinkFile(t)},data:{},store_set:function(e,t,a,r){a=a||meta.storeTypes.Forever,r=r||720;var n=this.toString(t),o=new Date,i={value:n,type:a,expiry:r,created:o.getTime(),lastread:o.getTime()},s=a===meta.storeTypes.Session?window.sessionStorage:window.localStorage,d=JSON.stringify(i);s.setItem(e,d)},store_get:function(t){var e=window.localStorage,a=e.getItem(t);if(this.isNullOrUndefined(a)&&(a=(e=window.sessionStorage).getItem(t)),this.isNullOrUndefined(a))return null;try{var r,n,o=JSON.parse(a);if(o.type===meta.storeTypes.Session)return o.value;if(o.type===meta.storeTypes.Forever)return o.value;if(o.type===meta.storeTypes.OneTimeRead){var i=o.value;return e.setItem(t,null),i}if(o.type===meta.storeTypes.ExpiryNoExtend){if((r=new Date).setTime(o.created),r.setMinutes(r.getMinutes()+o.expiry),(n=new Date).getTime()<=r.getTime())return o.value}else if(o.type===meta.storeTypes.ExpiryExtend&&((r=new Date).setTime(o.lastread),r.setMinutes(r.getMinutes()+o.expiry),(n=new Date).getTime()<=r.getTime()))return o.lastread=n.getTime(),e.setItem(t,JSON.stringify(o)),o.value}catch(e){meta.log("metascraper::store_get","error getting value: ["+t+"], error: ["+meta.toString(e)+"], returning null",meta.modes.warning)}return null},getUrlParam:function(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},getElemAttr:function(e,t){return this.log("meta.getElemAttr","**DEPRACATION WARNING** meta.getElemAttr should be replaced with meta.attr",meta.modes.warning),this.attr(e,t)},attr:function(e,t,a){return!meta.isNullOrUndefined(a)&&e&&e.hasAttribute&&e.setAttribute&&e.setAttribute(t,a),e&&e.hasAttribute&&e.getAttribute&&e.hasAttribute(t)?e.getAttribute(t):""},elem:function(e,t,a){var r=document.createElement(e);return!this.isNullOrUndefined(t)&&this.isJson(t)&&this.eachJsonKey(t,function(e,t){meta.attr(r,e,t)}),this.isNullOrUndefined(a)||a.appendChild(r),r},unique:function(){return(new Date).getTime()},copy:function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Node)return e.outerHTML?this.parseHTML(e.outerHTML):e.cloneNode(!0);if(e instanceof NodeList){for(var t,a,r=document.createDocumentFragment(),n=e.childNodes?e.childNodes.length:e.length,o=0;o<n;o++)t=null,e.childNodes&&e.childNodes.length&&e.childNodes[o]?t=e.childNodes[o]:e.length&&e[o]&&(t=e[o]),this.isNullOrUndefined(t)||(a=this.copy(t),r.appendChild(a));return r}if(e.constructor===Array||e.constructor===Object)try{return JSON.parse(JSON.stringify(e))}catch(e){console.log("Error: meta.copy: unable to parse source as json")}if(e.constructor!==Date)return new e.constructor(e);var i=new Date;return i.setTime(e.getTime()),i},toString:function(e){if(null===e||"object"!=typeof e)return e+"";if(e.constructor===Array||e.constructor===Object)try{return JSON.stringify(e)}catch(e){console.log("Error: meta.toString: unable to parse source as json")}if(e instanceof Node&&e.outerHTML)return e.outerHTML;if(e instanceof NodeList){var t="";if(e&&e.childNodes&&e.childNodes.length&&0<e.childNodes.length)for(var a=0;a<e.childNodes.length;a++)this.isNullOrUndefined(e.childNodes[a])||(e.childNodes[a].outerHTML?t+=e.childNodes[a].outerHTML:e.childNodes[a].textContent&&(t+=e.childNodes[a].textContent));return t}return e.toString()},encode:function(e,t){switch(t){case meta.encodeTypes.url:return encodeURI(e);case meta.encodeTypes.urlParameter:return encodeURIComponent(e);case meta.encodeTypes.utf16:return btoa(unescape(encodeURIComponent(e)));default:return btoa(this.toString(e))}},decode:function(e,t){switch(t){case meta.encodeTypes.url:return decodeURI(e);case meta.encodeTypes.urlParameter:return decodeURIComponent(e);case meta.encodeTypes.utf16:return decodeURIComponent(escape(atob(e)));default:return atob(this.toString(e))}},log:function(e,t,a){if(a>=this.options.mode){var r=e+"::"+t;switch(a){case this.modes.error:console.error?console.error("ERROR  "+r):console.log("ERROR  "+r);break;case this.modes.warning:console.warn?console.warn("WARNING  "+r):console.log("WARNING  "+r);break;default:console.log(r)}}},tryParseJsonObject:function(t){try{var e=JSON.parse(t);if(e&&"object"==typeof e)return e}catch(e){this.log("meta.tryParseJsonObject","Unable to parse value - error: "+e+" - value: "+meta.toString(t),this.modes.warning)}return!1},isJson:function(e){try{var t=JSON.stringify(e);return!1!==this.tryParseJsonObject(t)}catch(e){this.log("meta.isJson","error: "+e+" - value: "+meta.toString(jsonString),this.modes.warning)}return!1},eachJsonKey:function(e,t){for(var a=0;a<Object.keys(e).length;a++){var r=Object.keys(e)[a];t(r,e[r])}},filterJson:function(e,t,a,r){for(var n=[],o=0;o<e.length;o++)if(e[o][t]===a){if(r)return e[o];n.push(e[o])}return n},filter:function(e,t,a,r){return this.log("meta.filter","**DEPRACATION WARNING** meta.filter should be replaced with meta.filterJson",meta.modes.warning),this.filterJson(e,t,a,r)},sortJson:function(e,a,r){e.sort(function(e,t){return r?e[a]>t[a]?1:e[a]<t[a]?-1:0:t[a]>e[a]?1:t[a]<e[a]?-1:0})},versionCheck:function(e,t){if(e===t)return!0;for(var a=e.toString().split("."),r=t.toString().split("."),n=0;n<r.length;n++){if(a.length===n)return!1;if(parseInt(a[n])>parseInt(r[n]))return!0;if(parseInt(a[n])<parseInt(r[n]))return!1}return!0},async:function(a,r){window.setTimeout(function(){var t={data:void 0,success:function(){},error:function(){var e=textStatus||"Unhandled Error";throw{errorThrown:errorThrown,textStatus:e}}};meta.extend(t,r);try{var e=a(t.data);t.success(e)}catch(e){t.error(e)}},1,r)},isNullOrUndefined:function(e){return null==e},extend:function(e,t){for(var a in t){var r=t[a];if(null===r||"object"!=typeof r||r instanceof Node)e[a]=r;else if(t.constructor===Date){var n=new Date;n.setTime(r.getTime()),e[a]=n}else this.isNullOrUndefined(e[a])&&(e[a]=Array.isArray(t)?[]:{}),e[a]=this.extend(e[a],r)}return e},ajax:function(e){var a=new XMLHttpRequest,r={method:"GET",async:!0,headers:{},key:"",success:function(e,t,a){},beforeSend:function(e,t){},error:function(e,t,a){throw{errorThrown:a,textStatus:t||"Unhandled Error"}}};if(this.extend(r,this.ajaxSetup),this.extend(r,e),!r.url)throw new Error("url parameter must be set.","Missing option");r.method=r.method.toUpperCase();if(["GET","POST","PUT","DELETE"].indexOf(r.method)<0)throw'Request method "'+r.method+'" is not supported. Use one of GET | POST | PUT | DELETE';if(a.addEventListener("readystatechange",function(e){if(4===a.readyState)if(r.statusCode&&r.statusCode[a.status])r.statusCode[a.status](a.response,a.statusText,a),r.error(a,a.statusText,a.response);else if(200===a.status){var t;try{t=JSON.parse(a.response)}catch(e){t=a.response}0<r.key.length&&(meta.data[r.key]=t),r.success(t,a.statusText,a)}else r.error(a,a.statusText,a.response)},!1),a.open(r.method,r.url,r.async),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.eachJsonKey(r.headers,function(e,t){a.setRequestHeader(e,t)}),r.data instanceof FormData){if(!1===r.beforeSend(a,r))return;a.send(r.data)}else try{if(a.setRequestHeader("Content-Type","application/json"),!1===r.beforeSend(a,r))return;r.data&&"string"!=typeof r.data&&(r.data=meta.toString(r.data)),a.send(r.data)}catch(e){throw new e}},ajaxSetup:{},ready:function(e){var t="__ready",a=document.readyState;if("interactive"===a||"complete"===a){if(!this.isNullOrUndefined(this.data[t])){for(var r=this.data[t].shift();r;)r(),r=this.data[t].shift();delete meta.data[t]}e&&e()}else e&&(this.isNullOrUndefined(this.data.__ready)?this.data.__ready=[e]:this.data.__ready.push(e)),setTimeout(function(){meta.ready(null)},100)},select:function(e){return document.getElementById(e)},selectAll:function(e,t){return(t=t||document).querySelectorAll(e)},parseHTML:function(){var s=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,d=/<([\w:]+)/,l=/<|&#?\w+;/,u={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};return function(e,t){if(this.isNullOrUndefined(e))return null;var a,r,n,o,i=(t=t||document).createDocumentFragment();if(l.test(e)){for(a=i.appendChild(t.createElement("div")),r=(d.exec(e)||["",""])[1].toLowerCase(),n=u[r]||u._default,a.innerHTML=n[1]+e.replace(s,"<$1></$2>")+n[2],o=n[0];o--;)a=a.lastChild;for(i.removeChild(i.firstChild);a.firstChild;)i.appendChild(a.firstChild)}else i.appendChild(t.createTextNode(e));return i}}()};